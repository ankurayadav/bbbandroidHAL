<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>BBBAndroidHAL: jni/spi.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BBBAndroidHAL
   &#160;<span id="projectnumber">V1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5e114aeb986e10d33f9bd0abaab0267d.html">jni</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">spi.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>SPI general purpose interface code for file system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;sys/ioctl.h&gt;</code><br/>
<code>#include &quot;include/linux/spi/spidev.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="bbbandroidHAL_8h_source.html">bbbandroidHAL.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab99ded389af74001a6298fc9e44e74e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#ab99ded389af74001a6298fc9e44e74e5">MAX_PATH</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:ab99ded389af74001a6298fc9e44e74e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5daa4b780b82b5e8678d8c7095336b62"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#a5daa4b780b82b5e8678d8c7095336b62">MODE0</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a5daa4b780b82b5e8678d8c7095336b62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a443b1268c43b309560d57e34d50b5b3b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#a443b1268c43b309560d57e34d50b5b3b">MODE1</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a443b1268c43b309560d57e34d50b5b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2d8aca64e351712eae6f03e3f9d64ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#ab2d8aca64e351712eae6f03e3f9d64ad">MODE2</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ab2d8aca64e351712eae6f03e3f9d64ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefdb1e345181f5aa4a2105cf0e2ec3da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#aefdb1e345181f5aa4a2105cf0e2ec3da">MODE3</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:aefdb1e345181f5aa4a2105cf0e2ec3da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeb5fc78e1c37a5b26e3544b817a78a63"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#aeb5fc78e1c37a5b26e3544b817a78a63">spiTransfer</a> (int spiFD, unsigned char tx[], unsigned char rx[], int len)</td></tr>
<tr class="separator:aeb5fc78e1c37a5b26e3544b817a78a63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b87eee9f3ce1e94b6ecee2a7d974d2"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#a32b87eee9f3ce1e94b6ecee2a7d974d2">spiReadByte</a> (int spiFD, unsigned int regAdd)</td></tr>
<tr class="separator:a32b87eee9f3ce1e94b6ecee2a7d974d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf1f0e9ab6bfc213d4067c72e1298d8a"><td class="memItemLeft" align="right" valign="top">unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#abf1f0e9ab6bfc213d4067c72e1298d8a">spiReadBytes</a> (int spiFD, unsigned int len, unsigned int startAdd)</td></tr>
<tr class="separator:abf1f0e9ab6bfc213d4067c72e1298d8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627f735412cd9888cd8480df5031a56b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#a627f735412cd9888cd8480df5031a56b">spiWriteRegByte</a> (int spiFD, unsigned int regAdd, unsigned char data)</td></tr>
<tr class="separator:a627f735412cd9888cd8480df5031a56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed45504189576940b764a9f22f9bac5f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#aed45504189576940b764a9f22f9bac5f">spiWriteBytes</a> (int spiFD, unsigned char data[], int len)</td></tr>
<tr class="separator:aed45504189576940b764a9f22f9bac5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadb5134928411bc1a4b6711bed80f67c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#aadb5134928411bc1a4b6711bed80f67c">spiSetMode</a> (int spiFD, uint8_t mode)</td></tr>
<tr class="separator:aadb5134928411bc1a4b6711bed80f67c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263f19f98c91dcd9a09c7926edff7531"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#a263f19f98c91dcd9a09c7926edff7531">spiSetSpeed</a> (int spiFD, uint32_t speed)</td></tr>
<tr class="separator:a263f19f98c91dcd9a09c7926edff7531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec46513a8420ddd697235853e615bf62"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#aec46513a8420ddd697235853e615bf62">spiSetBitsPerWord</a> (int spiFD, uint8_t bpw)</td></tr>
<tr class="separator:aec46513a8420ddd697235853e615bf62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75a74515477fbfa0e49bef6d74cb3a9c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#a75a74515477fbfa0e49bef6d74cb3a9c">spiOpen</a> (unsigned int bus, unsigned int device, uint32_t speed, uint8_t mode, uint8_t bpw)</td></tr>
<tr class="separator:a75a74515477fbfa0e49bef6d74cb3a9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd6034b915d52565a858841a226bd016"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#afd6034b915d52565a858841a226bd016">spiClose</a> (int spiFD)</td></tr>
<tr class="separator:afd6034b915d52565a858841a226bd016"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>SPI general purpose interface code for file system. </p>
<dl class="section author"><dt>Author</dt><dd>Ankur Yadav (<a href="#" onclick="location.href='mai'+'lto:'+'ank'+'ur'+'aya'+'da'+'v@g'+'ma'+'il.'+'co'+'m'; return false;">ankur<span style="display: none;">.nosp@m.</span>ayad<span style="display: none;">.nosp@m.</span>av@gm<span style="display: none;">.nosp@m.</span>ail.<span style="display: none;">.nosp@m.</span>com</a>) </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ab99ded389af74001a6298fc9e44e74e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PATH&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum buffer for creating path using snprintf() </p>

</div>
</div>
<a class="anchor" id="a5daa4b780b82b5e8678d8c7095336b62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODE0&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Macro defination for MODE0 </p>

</div>
</div>
<a class="anchor" id="a443b1268c43b309560d57e34d50b5b3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODE1&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Macro defination for MODE1 </p>

</div>
</div>
<a class="anchor" id="ab2d8aca64e351712eae6f03e3f9d64ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODE2&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Macro defination for MODE2 </p>

</div>
</div>
<a class="anchor" id="aefdb1e345181f5aa4a2105cf0e2ec3da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODE3&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Macro defination for MODE3 </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="afd6034b915d52565a858841a226bd016"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spiClose </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spiFD</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is used to close SPI file descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spiFD</td><td>an integer argument. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a75a74515477fbfa0e49bef6d74cb3a9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spiOpen </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bpw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function takes input bus number, device number, speed of device, mode of device and bits per word for the device and internally opens the file and sets speed mode and bits per word for the device using <a class="el" href="spi_8c.html#aadb5134928411bc1a4b6711bed80f67c">spiSetMode()</a>, <a class="el" href="spi_8c.html#a263f19f98c91dcd9a09c7926edff7531">spiSetSpeed()</a> and <a class="el" href="spi_8c.html#aec46513a8420ddd697235853e615bf62">spiSetBitsPerWord()</a> and then returns the file descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bus</td><td>an unsigned integer argument. </td></tr>
    <tr><td class="paramname">device</td><td>an unsigned integer argument. </td></tr>
    <tr><td class="paramname">speed</td><td>an uint32_t argument. </td></tr>
    <tr><td class="paramname">mode</td><td>an uuint8_t argument. </td></tr>
    <tr><td class="paramname">bpw</td><td>an uuint8_t argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If successful then SPI file descriptor is returned and if it fails then -1 is returned. </dd></dl>

</div>
</div>
<a class="anchor" id="a32b87eee9f3ce1e94b6ecee2a7d974d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char spiReadByte </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spiFD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>regAdd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It takes spi file descriptor and register address as input and returns the value present at that address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spiFD</td><td>an integer argument. </td></tr>
    <tr><td class="paramname">regAdd</td><td>an unsigned integer argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value present at that address. </dd></dl>

</div>
</div>
<a class="anchor" id="abf1f0e9ab6bfc213d4067c72e1298d8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char* spiReadBytes </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spiFD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>startAdd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It takes file descriptor, length of data to be read and starting address of register from which data is to be read and returns a pointer to the array of data bytes read. It is used to get 'length' number of bytes in array from 'startAdd' starting address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spiFD</td><td>an integer argument. </td></tr>
    <tr><td class="paramname">len</td><td>an integer argument. </td></tr>
    <tr><td class="paramname">startAdd</td><td>an unsigned integer argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the array of data bytes read. </dd></dl>

</div>
</div>
<a class="anchor" id="aec46513a8420ddd697235853e615bf62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spiSetBitsPerWord </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spiFD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bpw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It takes file descriptor and 'bpw' bits per word as input and sets the bpw provided in the argument to the device represented by file descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spiFD</td><td>an integer argument. </td></tr>
    <tr><td class="paramname">bpw</td><td>an uint8_t argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful and -1 if it fails. </dd></dl>

</div>
</div>
<a class="anchor" id="aadb5134928411bc1a4b6711bed80f67c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spiSetMode </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spiFD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It takes file descriptor and mode as input and sets the mode provided in the argument to the device represented by file descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spiFD</td><td>an integer argument. </td></tr>
    <tr><td class="paramname">mode</td><td>an uint8_t argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful and -1 if it fails. </dd></dl>

</div>
</div>
<a class="anchor" id="a263f19f98c91dcd9a09c7926edff7531"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spiSetSpeed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spiFD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>speed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It takes file descriptor and speed as input and sets the speed provided in the argument to the device represented by file descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spiFD</td><td>an integer argument. </td></tr>
    <tr><td class="paramname">speed</td><td>an uint32_t argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful and -1 if it fails. </dd></dl>

</div>
</div>
<a class="anchor" id="aeb5fc78e1c37a5b26e3544b817a78a63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spiTransfer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spiFD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>tx</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>rx</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function takes input SPI file descriptor, tx buffer array to transmit data, rx buffer array to receive data and length of data to be transferred. It then transfers and receives data using ioctl function call. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spiFD</td><td>an integer argument. </td></tr>
    <tr><td class="paramname">tx</td><td>an unsigned character array argument. </td></tr>
    <tr><td class="paramname">rx</td><td>an unsigned character array argument. </td></tr>
    <tr><td class="paramname">len</td><td>an integer argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful and -1 if it fails. </dd></dl>

</div>
</div>
<a class="anchor" id="aed45504189576940b764a9f22f9bac5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spiWriteBytes </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spiFD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>data</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It takes spi file descriptor , array of data to be written and length of data to be written as input. It writes length number of data bytes from the data buffer provided. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spiFD</td><td>an integer argument. </td></tr>
    <tr><td class="paramname">data</td><td>an unsigned character argument argument. </td></tr>
    <tr><td class="paramname">len</td><td>an integer argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 </dd></dl>

</div>
</div>
<a class="anchor" id="a627f735412cd9888cd8480df5031a56b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spiWriteRegByte </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spiFD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>regAdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function takes file descriptor, address of register to write and byte to be written as input and writes byte provided in the argument at the address provided. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spiFD</td><td>an integer argument. </td></tr>
    <tr><td class="paramname">regAdd</td><td>an unsigned integer argument. </td></tr>
    <tr><td class="paramname">data</td><td>an unsigned character argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 12 2015 20:24:58 for BBBAndroidHAL by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
